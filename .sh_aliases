# Ack aliased to use literal search by default
#   ack - literal search
#   acki - case-insensitive search
#   ackr - regex search
function ack {
 ~/bin/ack -Q "$@"
}
alias acki='ack -i'         # Case-insensitive search
alias ackr="command ack $@" # Regex search, undoing default -Q alias

# 'Find process'. Doesn't show grep itself.
# Ex: fps redis
function fps() {
  ps aux | grep -v grep | grep $1
}

# Open a directory in a finder window (defaults to current directory)
# Exit the terminal unless run with -k
# Ex: dir
# Ex: dir -k some/folder/
function dir {
  if [[ -n "$2" ]]
  then
    open "$2"
  else
    open .
  fi

  if [[ "$1" != '-k' ]]
  then
    exit
  fi
}

# Force remove a file or directory, with confirmation
# Ex: rc file.txt junkDirectory/
# => Are you sure you want to remove file.txt?
# etc...
function rc {
  if [[ -n "$1" ]]
  then
    for var in "$@"
    do
      if [[ -d "$var" ]]
      then
        read -p "Remove directory $var and all of its contents? " -r
      elif [[ -f "$var" ]]
      then
        read -p "Remove file $var? " -r
      fi

      if [[ $REPLY =~ ^[Yy]$ ]]
      then
        rm -rf $var
      else
        echo "Aborted."
      fi
    done
  else
    echo "Usage: rc [file | directory] ..."
  fi
}


# Misc aliases
# ---------------------
alias c='clear'
alias ls='ls -F'
alias lsa='c; ls -lah'
alias ll='lsa'
alias cls='c; ls'
alias x='exit'
alias xx='exit'
alias ':x'='x'
alias cmake='c; make'
alias ccmake='c; make clean; make'
alias mc='make clean'

alias up='cd ../'
alias up.='up'
alias up..='cd ../../'
alias up...='cd ../../../'
alias up....='cd ../../../../'
alias up.....='cd ../../../../../'

# Rails-y shortcuts
# ---------------------
alias be='bundle exec'
alias rake='be rake'
alias cons='c;be rails console'


# Typo fixes. If I had a dollar...
# ---------------------
alias clera='clear'
alias qcs='cs'
alias xit='exit'
alias rpsec='rspec'
alias im='vim'
